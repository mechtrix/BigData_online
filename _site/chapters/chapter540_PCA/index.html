<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/quarto-contrib/reveal-header-1.0.0/add_header.js" defer="true"></script>
<link href="../../site_libs/quarto-contrib/reveal-header-1.0.0/add_header.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/grid-no-htext-1.0.0/grid_no_htext.css" rel="stylesheet">
<script src="../../site_libs/quarto-contrib/pseudocode-2.4.1/pseudocode.min.js"></script>
<link href="../../site_libs/quarto-contrib/pseudocode-2.4.1/pseudocode.min.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <meta name="author" content="Prof.&nbsp;Dr.&nbsp;Tim Weber">
  <title>Big Data lecture slides – Principal Component Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-bbe7401fe57d4b791b917637bb662036.css">
  <link rel="stylesheet" href="style.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-attribution/attribution.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

  <script src="../../site_libs/rglWebGL-binding-1.3.1/rglWebGL.js"></script>

  <link href="../../site_libs/rglwidgetClass-1.3.1/rgl.css" rel="stylesheet">

  <script src="../../site_libs/rglwidgetClass-1.3.1/rglClass.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/utils.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/buffer.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/subscenes.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/shaders.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/shadersrc.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/textures.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/projection.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/mouse.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/init.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/pieces.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/draw.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/controls.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/selection.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/rglTimer.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/pretty.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/axes.src.js"></script>

  <script src="../../site_libs/rglwidgetClass-1.3.1/animation.src.js"></script>

  <script src="../../site_libs/CanvasMatrix4-1.3.1/CanvasMatrix.src.js"></script>

  <script>
  MathJax = {
    loader: {
      load: ['[tex]/boldsymbol']
    },
    tex: {
      tags: "all",
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true,
      processEnvironments: true,
      packages: {
        '[+]': ['boldsymbol']
      }
    }
  };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Principal Component Analysis</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Prof.&nbsp;Dr.&nbsp;Tim Weber 
</div>
<div class="quarto-title-author-email">
<a href="mailto:tim.weber@th-deg.de">tim.weber@th-deg.de</a>
</div>
        <p class="quarto-title-affiliation">
            Deggendorf Institute of Technology
          </p>
    </div>
</div>

</section>
<section>
<section id="principal-component-analysis-pca" class="title-slide slide level2 center">
<h2>Principal Component Analysis (PCA)</h2>

</section>
<section id="practical-use" class="title-slide slide level3 center">
<h3>Practical Use</h3>
<ul>
<li><p>dimensionality reduction method</p></li>
<li><p>transforming a large set of variables into a smaller one that still contains most of the information in the large set.</p></li>
<li><p>trade a little accuracy for simplicity</p></li>
<li><p>reduce the number of variables of a data set, while preserving as much information as possible.</p></li>
</ul>
<div class="attribution">
<p><span class="citation" data-cites="an_jameswittenhastietibshirani_2021">(<a href="#/references" role="doc-biblioref" onclick="">James et al. 2021</a>)</span></p>
</div>
</section>
<section id="the-whole-game" class="title-slide slide level4 center">
<h4>The whole game</h4>
<ol type="1">
<li>Standardize the range of continuous initial variables</li>
<li>Compute the covariance matrix to identify correlations</li>
<li>Compute the eigenvectors and eigenvalues of the covariance matrix to identify the principal components</li>
<li>Create a feature vector to decide which principal components to keep</li>
<li>Recast the data along the principal components axes</li>
<li>Interpreting the results</li>
</ol>
<div class="attribution">
<p><span class="citation" data-cites="an_jameswittenhastietibshirani_2021">(<a href="#/references" role="doc-biblioref" onclick="">James et al. 2021</a>)</span></p>
</div>
</section>


<section id="step-1-standardization" class="title-slide slide level3 center">
<h3>Step 1: Standardization</h3>
<p><span class="math display">\[\begin{align}
z = \frac{x_i - \bar{x}}{\sigma}
\end{align}\]</span></p>
</section>

<section id="step-2-covariance-matrix-computation" class="title-slide slide level3 center">
<h3>Step 2: Covariance matrix computation</h3>
<div style="font-size: 55%;">
<ul>
<li>The covariance matrix is a <span class="math inline">\(p \times p\)</span> symmetric matrix (p: number of dimensions) that has as entries the covariances associated with all possible pairs of the initial variables.</li>
<li>For example, for a 3-dimensional data set with 3 variables <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span>, and <span class="math inline">\(z\)</span>, the covariance matrix is a <span class="math inline">\(3\times 3\)</span> data matrix <span class="math inline">\(\eqref{covmat}\)</span>.</li>
</ul>
</div>
<p><span class="math display">\[\begin{align}
\begin{bmatrix} Cov(x,x) &amp; Cov(x,y) &amp; Cov(x,z) \\ Cov(y,x) &amp; Cov(y,y) &amp; Cov(y,z) \\ Cov(z,x) &amp; Cov(z,y) &amp; Cov(z,z) \end{bmatrix} \label{covmat}
\end{align}\]</span></p>
<div style="font-size: 55%;">
<ul>
<li><strong>positive:</strong> the two variables increase <em>or</em> decrease together (correlated)</li>
<li><strong>negative:</strong> one of variables increases while the other decreases (inversly correlated)</li>
</ul>
<p>The difference between the <em>covariance</em> and <em>correlation</em> matrix is, that the covariance matrix is not standardized (values can range between <span class="math inline">\(-\infty \ldots +\infty\)</span>), while the correlation matrix is standardized (values can range between <span class="math inline">\(-1 \ldots +1\)</span>).</p>
</div>
</section>

<section id="step-3-eigencomputation-of-covariance-to-identify-the-principal-components-pc" class="title-slide slide level3 center">
<h3>Step 3: Eigencomputation of covariance to identify the principal components (PC)</h3>
<ul>
<li>linear combinations or mixtures of the original variables.</li>
<li>new variables are uncorrelated and most of the information in the original variables is retained</li>
<li><span class="math inline">\(10\)</span>-dimensional data gives you <span class="math inline">\(10\)</span> principal components, with maximum possible information in the first component (<span class="math inline">\(PC_1\)</span>), then the maximum of the remaining information in <span class="math inline">\(PC_2\)</span> and so on.</li>
<li><em>scree-plot</em>, see <a href="#/fig-scree-explain" class="quarto-xref">Figure&nbsp;1</a>.</li>
</ul>
</section>
<section class="slide level5">


<img data-src="index_files/figure-revealjs/fig-scree-explain-1.png" width="960" class="r-stretch quarto-figure-center" id="fig-scree-explain"><p class="caption">
Figure&nbsp;1: An example for a scree plot in PCA
</p><div style="font-size: 75%;">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>An important thing to realize here is that the principal components are less interpretable and do not have any real meaning since they are constructed as linear combinations of the initial variables.</p>
</div>
</div>
</div>
</div>
</section>
<section class="slide level5">

<p>Geometrically speaking, principal components represent the directions of the data that explain a maximal amount of variance, that is to say, the lines that capture most information of the data.</p>
<p>The relationship between variance and information here, is that, the larger the variance carried by a line, the larger the dispersion of the data points along it, and the larger the dispersion along a line, the more information it has.</p>
</section>
<section id="how-pc_n-are-constructed" class="title-slide slide level4 center">
<h4>How <span class="math inline">\(PC_n\)</span> are constructed</h4>

<img data-src="index_files/figure-revealjs/fig-pc-construction-1.gif" class="r-stretch quarto-figure-center" id="fig-pc-construction"><p class="caption">
Figure&nbsp;2: Construction of <span class="math inline">\(PC_{1\ldots 2}\)</span> in two dimensions.
</p></section>

<section id="eigendecomposition" class="title-slide slide level4 center">
<h4>Eigendecomposition</h4>
<div style="font-size: 75%;">
<ul>
<li>the eigenvectors of the covariance matrix are the directions of the axes in which the highest variation in the dataset exists.</li>
<li>those directions are called <em>Principal Components</em>.</li>
<li>the eigenvalues correspond to the <em>amount of variance carried by the <span class="math inline">\(PC\)</span></em>.</li>
<li>By ranking the eigenvectors according to the eigenvalues (highest to lowest) you get the <span class="math inline">\(PC\)</span> in order of significance.</li>
<li>this process is called <em>eigendecomposition</em>.</li>
</ul>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>cov_mat <span class="ot">&lt;-</span> <span class="fu">cov</span>(<span class="fu">scale</span>(sim_data))</span>
<span id="cb1-2"><a></a>cov_mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              var1  outcome1
var1     1.0000000 0.8334811
outcome1 0.8334811 1.0000000</code></pre>
</div>
</div>
</section>
<section class="slide level5">

<p><span class="math display">\[\begin{align}
cov = \begin{bmatrix} 1 &amp; 0.8334811 \\ 0.8334811 &amp; 1 \end{bmatrix} \label{excovmat}
\end{align}\]</span></p>
<p>The eigenvectors and eigenvalues of <span class="math inline">\(\eqref{excovmat}\)</span> are then calculated using eigendecomposition (seee <span class="math inline">\(\eqref{exl1}\)</span> and <span class="math inline">\(\eqref{exl2}\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>eigen_mat <span class="ot">&lt;-</span> <span class="fu">eigen</span>(cov_mat)</span>
<span id="cb3-2"><a></a>eigen_mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>eigen() decomposition
$values
[1] 1.8334811 0.1665189

$vectors
          [,1]       [,2]
[1,] 0.7071068 -0.7071068
[2,] 0.7071068  0.7071068</code></pre>
</div>
</div>
</section>
<section class="slide level5">

<p><span class="math display">\[\begin{align}
\vec{v_1} &amp;= \begin{bmatrix} 0.7071068 \\ 0.7071068  \end{bmatrix} &amp;&amp;\lambda_1 = 1.8334811 \label{exl1} \\
\vec{v_2} &amp;= \begin{bmatrix} -0.7071068 \\ 0.7071068 \end{bmatrix}  &amp;&amp;\lambda_2 = 0.1665189 \label{exl2}
\end{align}\]</span></p>
<div style="font-size: 75%;">
<p>The eigenvalues ranked give us <span class="math inline">\(\lambda_1&gt;\lambda_2\)</span> which means that <span class="math inline">\(\vec{v_1}\)</span> corresponds to <span class="math inline">\(PC_1\)</span> and <span class="math inline">\(\vec{v_2}\)</span> corresponds to <span class="math inline">\(PC_2\)</span>. <span class="math inline">\(\lambda_1\)</span> and <span class="math inline">\(\lambda_2\)</span> are then normalized to <span class="math inline">\(\sum\lambda_i\)</span> in order to estimate the percentage of explained variance.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a>explained_variance <span class="ot">&lt;-</span> <span class="fu">round</span>(eigen_mat<span class="sc">$</span>values<span class="sc">/</span><span class="fu">sum</span>(eigen_mat<span class="sc">$</span>values)<span class="sc">*</span><span class="dv">100</span>, <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb5-2"><a></a>explained_variance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 91.7  8.3</code></pre>
</div>
</div>
<p>In this case <span class="math inline">\(PC_1\)</span> explains <span class="math inline">\(91.7\%\)</span> and <span class="math inline">\(PC_2\)</span> the remaining <span class="math inline">\(8.3\%\)</span>.</p>
</section>
<section id="basics-matrix-multiplication" class="slide level5">
<h5>Basics: Matrix multiplication</h5>
<div style="font-size: 75%;">
<p>Given is matrix <span class="math inline">\(A = (a_{ij})\)</span> with <span class="math inline">\(m \times n\)</span> dimensions (columns <span class="math inline">\(\times\)</span> rows) and vector <span class="math inline">\(\vec{v}=(v_{k})\)</span> with <span class="math inline">\(k\)</span> columns that result in matrix <span class="math inline">\(B = (b_{ik})\)</span> with <span class="math inline">\(1 \times 3\)</span> dimensions, a vector (<span class="math inline">\(\vec{B}\)</span>).</p>
<p>The number of matrix columns (<span class="math inline">\(m\)</span>) must be equal to the number of vector rows (<span class="math inline">\(k\)</span>).</p>
<p>The components of <span class="math inline">\(B\)</span> are computed according to <span class="math inline">\(b_i = \sum{a_{ij}v_{k}} \text{ with }i = 1,2,\ldots m\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
A &amp;= \begin{bmatrix} 1 &amp; 1\\ 0 &amp; 1 \end{bmatrix} \vec{v} = \begin{bmatrix} 3\\ 1 \end{bmatrix} \nonumber \\
\vec{B} &amp;= A\times \vec{v} = \begin{bmatrix} 1*3 + 1*1\\ 0*3 + 1*1 \end{bmatrix} = \begin{bmatrix} 4\\ 1 \end{bmatrix}
\end{align}\]</span></p>
</section>
<section id="code" class="slide level5">
<h5>code</h5>
<p>The special operatior <code>%*%</code> must be used to facilitate matrix multiplication in R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb7-2"><a></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">1</span>)</span>
<span id="cb7-3"><a></a></span>
<span id="cb7-4"><a></a>B <span class="ot">&lt;-</span> A <span class="sc">%*%</span> v <span class="sc">%&gt;%</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]
[1,]    4
[2,]    1</code></pre>
</div>
</div>
</section>
<section id="visual-representation" class="slide level5">
<h5>visual representation</h5>

<img data-src="index_files/figure-revealjs/fig-mat-mult-1.png" width="960" class="r-stretch quarto-figure-center" id="fig-mat-mult"><p class="caption">
Figure&nbsp;3: The visual representation of a matrix multiplication
</p><div style="font-size: 75%;">
<p>In <a href="#/fig-mat-mult" class="quarto-xref">Figure&nbsp;3</a> the effect matrix <span class="math inline">\(A\)</span> had on vector <span class="math inline">\(\vec{v}\)</span>, it changed its direction. Eigendecomposition uses this math to find a matrix, which does not change the direction of the vector, only its magnitude. The effect of the matrix on the vector is therefore the same, as if the vector is multiplied with a scalar values.</p>
</div>
</section>
<section id="eigenvalue-computation" class="slide level5">
<h5>Eigenvalue computation</h5>
<div style="font-size: 75%;">
<p>This results in the fundamental <em>eigenvalue</em> equation <span class="math inline">\(\eqref{eigval}\)</span> and the rearranged <span class="math inline">\(\eqref{eigval2}\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
  Av = \lambda v \label{eigval} \\
  (A-\lambda I)v = 0 \label{eigval2}
\end{align}\]</span></p>
<div style="font-size: 75%;">
<p>This is the core idea of eigendecomposition. To find a non-trivial solution to <span class="math inline">\(\eqref{eigval2}\)</span>, the scalars (<span class="math inline">\(\lambda\)</span>) that shift the matrix (<span class="math inline">\(A\)</span>) just enough to make sure, a matrix-vector multiplication equals zero, sending the vector <span class="math inline">\(\vec{v}\)</span> in its null-space.</p>
<p>In a geometrical sense, we are looking for a matrix that squishes space into a lower dimension with an area or volume of zero. This can be achieved when the matrix determinant equals zero <span class="math inline">\(\eqref{det}\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
  \det(A-\lambda I) = 0 \label{det}
\end{align}\]</span></p>
</section>
<section id="determinant-of-a-matrix" class="slide level5">
<h5>determinant of a matrix</h5>
<div style="font-size: 75%;">
<p>A determinante of a matrix is a scalar value as a function of a square matrix. This scalar is a measure by how much a geometry is transformed. If <span class="math inline">\(\det(A)=0\)</span> two rows and columns are equal and the linear mapping of the matrix is found.</p>
</div>
<p><span class="math display">\[\begin{align}
A = \begin{bmatrix} a=1 &amp; c=1\\ b=0 &amp; d=1 \end{bmatrix} = ad-bc = 1*1-0*1 = 1 \label{calcdet}
\end{align}\]</span></p>
</section>
<section class="slide level5">


<img data-src="index_files/figure-revealjs/fig-det-1.png" width="960" class="r-stretch quarto-figure-center" id="fig-det"><p class="caption">
Figure&nbsp;4: The visual representation of the <span class="math inline">\(\det A\)</span>
</p><div style="font-size: 75%;">
<p>In <a href="#/fig-det" class="quarto-xref">Figure&nbsp;4</a> the determinant <span class="math inline">\(\det A\)</span> is visually depicted. With <span class="math inline">\(\eqref{calcdet}\)</span> the determinante is calculated, as well as with the function <code>determinant()</code>.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a><span class="fu">determinant</span>(A,<span class="at">logarithm =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$modulus
[1] 1
attr(,"logarithm")
[1] FALSE

$sign
[1] 1

attr(,"class")
[1] "det"</code></pre>
</div>
</div>
</section>

<section id="eigendecomposition-to-find-eigenvalues" class="title-slide slide level4 center">
<h4>Eigendecomposition to find eigenvalues</h4>
<p>Before the eigenvectors of a matrix can be found, first the eigenvalues must be determined. A <span class="math inline">\(M\times M\)</span> matrix has <span class="math inline">\(M\)</span> eigenvalues and <span class="math inline">\(M\)</span> eigenvectors. Each eigenvalue has a related eigenvector. Once the eigenvalues are unlocked, the step to finding the eigenvectors is simple enough.</p>
</section>
<section id="example" class="slide level5">
<h5>Example</h5>
<div style="font-size: 35%;">
<p>Imagine <span class="math inline">\(2\times 2\)</span> matrix of which the eigenvalues shall be computed. Using <span class="math inline">\(\eqref{det}\)</span> a characteristic polynomial can be computed and solved for the eigenvalues.</p>
</div>
<p><span class="math display">\[\begin{align}
\begin{vmatrix} \begin{bmatrix} 3 &amp; 1 \\ 0 &amp; 2\end{bmatrix} - \lambda \begin{bmatrix} 1&amp;0\\ 0&amp;1 \end{bmatrix} \end{vmatrix} &amp;= 0 \\
\begin{vmatrix} 3-\lambda &amp; 1 \\ 0 &amp; 2-\lambda \end{vmatrix} &amp;= 0 \\
(3-\lambda)(2-\lambda) &amp;= 0\\
\lambda_1 = 3, \lambda_2 = 2 \label{eigensol}
\end{align}\]</span></p>
<div style="font-size: 55%;">
<p>The solution in <span class="math inline">\(\eqref{eigensol}\)</span> shows that the eigenvalues of the matrix have the magnitude <span class="math inline">\(\lambda_1 = 3\)</span> and <span class="math inline">\(\lambda_2 = 2\)</span>. Now we proceed with eigenvectors.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Finding the eigenvalues gets more involved and computationally expensive the larger the matrices become using the <a href="https://en.wikipedia.org/wiki/Abel%E2%80%93Ruffini_theorem" class="external" target="_blank">Abel-Ruffini theorem</a>. Therefore, a whole family of iterative algorithms exists to compute the eigenvalues.</p>
</div>
</div>
</div>
</div>
</section>

<section id="eigendecomposition-to-find-eigenvectors" class="title-slide slide level4 center">
<h4>Eigendecomposition to find eigenvectors</h4>
<div style="font-size: 45%;">
<p>Eigenvectors describe the directions of a matrix that are invariant to rotations. They will not change direction. Using the eigenvalues from before, the eigenvectors can be revealed <span class="math inline">\(\eqref{eigenvectors}\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
(A-\lambda_i I)v_i=0\label{eigenvectors}
\end{align}\]</span></p>
<div style="font-size: 45%;">
<p>Based on the fundamental eigenvalue equation, the <em>ith</em>-eigenvalue is plucked in <span class="math inline">\(\eqref{eigval2}\)</span> and the <em>ith</em> eigenvector is retrieved from the null space of the matrix.</p>
<p>Starting with <span class="math inline">\(\lambda_1 = 3\)</span> from the example before:</p>
</div>
<p><span class="math display">\[\begin{align}
\begin{pmatrix}\begin{bmatrix} 3&amp;1\\0&amp;2 \end{bmatrix}-3\begin{bmatrix} 1&amp;0\\0&amp;1 \end{bmatrix}\end{pmatrix}v_i &amp;= 0, \lambda_i = 3\\
\begin{bmatrix} 3-3 &amp; 1 \\ 0 &amp; 2-3 \end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix} &amp;= \begin{bmatrix}0\\0\end{bmatrix} \\
\begin{bmatrix} 0 &amp; 1 \\ 0 &amp; -1 \end{bmatrix}\begin{bmatrix}1\\0\end{bmatrix} &amp;= \begin{bmatrix}0\\0\end{bmatrix}, x = 1, y = 0
\end{align}\]</span></p>
<div style="font-size: 45%;">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>The solution is not unique. That is why eigenvectors are usually scaled to accord to unit norm (absolute value = 1).</p>
</div>
</div>
</div>
</div>
</section>
<section class="slide level5">

<p>The second solution for <span class="math inline">\(\lambda_2 = 2\)</span> is shown below.</p>
<p><span class="math display">\[\begin{align}
\begin{bmatrix} 1 &amp; 1 \\ 0 &amp; 0 \end{bmatrix}\begin{bmatrix}1\\-1\end{bmatrix} &amp;= \begin{bmatrix}0\\0\end{bmatrix}, x = 1, y = -1
\end{align}\]</span></p>
<div style="font-size: 75%;">
<p>This eigenvector does not have length of one. It is scaled by multiplying with <span class="math inline">\(1/\sqrt{2}\)</span>.</p>
</div>
</section>
<section id="example-eigendecomposition-and-matrix-reconstruction" class="slide level5">
<h5>Example eigendecomposition and matrix reconstruction</h5>
<div style="font-size: 55%;">
<p>Above was shown, what eigendecomposition is, below there is a final example. First a <span class="math inline">\(3\times 3\)</span> matrix is constructed <span class="math inline">\(\eqref{A}\)</span> and the eigenvalues and eigenvectors are retrieved.</p>
</div>
<p><span class="math display">\[\begin{align}
A = \begin{bmatrix} 10 &amp; 21 &amp; 36 \\ 47 &amp; 51 &amp; 64 \\ 72 &amp; 87 &amp; 91 \end{bmatrix} \label{A}
\end{align}\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">21</span>,<span class="dv">36</span>,<span class="dv">47</span>,<span class="dv">51</span>,<span class="dv">64</span>,<span class="dv">72</span>,<span class="dv">87</span>,<span class="dv">91</span>),<span class="at">ncol =</span> <span class="dv">3</span>,<span class="at">byrow =</span> T)</span>
<span id="cb11-2"><a></a></span>
<span id="cb11-3"><a></a>v <span class="ot">&lt;-</span> <span class="fu">eigen</span>(A) </span>
<span id="cb11-4"><a></a></span>
<span id="cb11-5"><a></a>v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>eigen() decomposition
$values
[1] 170.532701 -12.647737  -5.884964

$vectors
           [,1]       [,2]        [,3]
[1,] -0.2509516 -0.8785074  0.71894055
[2,] -0.5317542  0.2249269 -0.68983358
[3,] -0.8088639  0.4214650  0.08517112</code></pre>
</div>
</div>
</section>
<section class="slide level5">

<div style="font-size: 75%;">
<p>The resulting eigenvalues of <span class="math inline">\(A\)</span> are <span class="math inline">\(\lambda_1 = 170.5327005\)</span>, <span class="math inline">\(\lambda_2 = -12.6477368\)</span> and <span class="math inline">\(\lambda_3 = -5.8849637\)</span>. The eigenvectors are shown in <span class="math inline">\(\eqref{eigenA}\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
\vec{v_1} = \begin{bmatrix} -0.2509516 \\ -0.5317542 \\ -0.8088639 \end{bmatrix} \;
\vec{v_2} = \begin{bmatrix} -0.8785074 \\ 0.2249269 \\ 0.421465 \end{bmatrix} \;
\vec{v_3} = \begin{bmatrix} 0.7189406 \\ -0.6898336 \\ 0.0851711 \end{bmatrix}
\label{eigenA}
\end{align}\]</span></p>
</section>
<section class="slide level5">

<p>A graphical depiction of the eigenvectors is shown in <a href="#/fig-eigenA" class="quarto-xref">Figure&nbsp;5</a>.</p>
<div class="cell">
<div id="fig-eigenA" class="cell-output-display quarto-float quarto-figure quarto-figure-center no-overflow-x">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-eigenA-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="rgl55488" style="width:960px;height:480px;" class="rglWebGL html-widget" role="img" aria-labelledby="rgl55488-aria"></div>
<script type="application/json" data-for="rgl55488">{"x":{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":true,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmode":"modulate","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less","isTransparent":false,"polygon_offset":[0,0],"margin":"","floating":false,"tag":"","blend":["src_alpha","one_minus_src_alpha"]},"rootSubscene":7,"objects":{"13":{"id":13,"type":"lines","material":{"lit":false},"vertices":"0","colors":"1","centers":"2","ignoreExtent":false,"flags":32832},"14":{"id":14,"type":"lines","material":{"lit":false},"vertices":"3","colors":"4","centers":"5","ignoreExtent":false,"flags":32832},"15":{"id":15,"type":"lines","material":{"lit":false},"vertices":"6","colors":"7","centers":"8","ignoreExtent":false,"flags":32832},"16":{"id":16,"type":"text","material":{"lit":false},"vertices":"9","colors":"10","texts":[["X"],["Y"],["Z"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"11","family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":33808},"17":{"id":17,"type":"triangles","material":{},"vertices":"12","colors":"14","centers":"15","normals":"13","ignoreExtent":false,"flags":32771},"18":{"id":18,"type":"quads","material":{},"vertices":"16","colors":"18","centers":"19","normals":"17","ignoreExtent":false,"flags":32771},"19":{"id":19,"type":"triangles","material":{},"vertices":"20","colors":"22","centers":"23","normals":"21","ignoreExtent":false,"flags":32771},"20":{"id":20,"type":"quads","material":{},"vertices":"24","colors":"26","centers":"27","normals":"25","ignoreExtent":false,"flags":32771},"21":{"id":21,"type":"triangles","material":{},"vertices":"28","colors":"30","centers":"31","normals":"29","ignoreExtent":false,"flags":32771},"22":{"id":22,"type":"quads","material":{},"vertices":"32","colors":"34","centers":"35","normals":"33","ignoreExtent":false,"flags":32771},"24":{"id":24,"type":"text","material":{"lit":false,"margin":0,"edge":[0,1,1]},"vertices":"36","colors":"37","texts":[["eigenvectors of A"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"38","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"11":{"id":11,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"10":{"id":10,"type":"background","material":{},"colors":"39","centers":"40","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"12":{"id":12,"type":"background","material":{"lit":false,"back":"lines"},"colors":"41","centers":"42","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"23":{"id":23,"type":"bboxdeco","material":{"front":"culled","back":"culled"},"colors":"43","axes":{"mode":["none","none","none"],"step":[-1,-1,-1],"nticks":[0,0,0],"marklen":[15,15,15],"expand":[1.029999971389771,1.029999971389771,1.029999971389771]},"draw_front":false,"flags":32769},"7":{"id":7,"type":"subscene","par3d":{"antialias":8,"FOV":30,"ignoreExtent":false,"listeners":7,"mouseMode":{"none":"none","left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,7.633093357086182],"modelMatrix":[[0.9921829700469971,0,0,-0.09170356392860413],[0,0.3256558477878571,1.001059055328369,-0.1725588887929916],[0,-0.8947320580482483,0.3643556833267212,-7.640908718109131],[0,0,0,1]],"projMatrix":[[3.732050895690918,0,0,0],[0,3.732050895690918,0,0],[0,0,-3.863703489303589,-27.51641845703125],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201433256682,0.9396926207859085,0],[0,-0.9396926207859085,0.3420201433256682,0],[0,0,0,1]],"userProjection":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],"scale":[0.9921829700469971,0.9521539807319641,1.065304756164551],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[-0.8151479363441467,1,-0.8914575576782227,1,-0.6905574798583984,1],"windowRect":[60,83,316,339],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"TT Arial","maxClipPlanes":8,"glVersion":4.6,"activeSubscene":0},"embeddings":{"viewport":"replace","projection":"replace","model":"replace","mouse":"replace"},"objects":[12,23,13,14,15,16,17,18,19,20,21,22,24,11],"subscenes":[],"flags":34131}},"crosstalk":{"key":[],"group":[],"id":[],"options":[]},"width":960,"height":480,"buffer":{"accessors":[{"bufferView":0,"componentType":5121,"count":2,"type":"VEC3"},{"bufferView":1,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":2,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":3,"componentType":5121,"count":2,"type":"VEC3"},{"bufferView":4,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":5,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":6,"componentType":5121,"count":2,"type":"VEC3"},{"bufferView":7,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":8,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":9,"componentType":5121,"count":3,"type":"VEC3"},{"bufferView":10,"componentType":5121,"count":3,"type":"VEC4","normalized":true},{"bufferView":11,"componentType":5121,"count":3,"type":"VEC3"},{"bufferView":12,"componentType":5126,"count":42,"type":"VEC3"},{"bufferView":13,"componentType":5126,"count":42,"type":"VEC3"},{"bufferView":14,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":15,"componentType":5126,"count":14,"type":"VEC3"},{"bufferView":16,"componentType":5126,"count":36,"type":"VEC3"},{"bufferView":17,"componentType":5126,"count":36,"type":"VEC3"},{"bufferView":18,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":19,"componentType":5126,"count":9,"type":"VEC3"},{"bufferView":20,"componentType":5126,"count":42,"type":"VEC3"},{"bufferView":21,"componentType":5126,"count":42,"type":"VEC3"},{"bufferView":22,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":23,"componentType":5126,"count":14,"type":"VEC3"},{"bufferView":24,"componentType":5126,"count":36,"type":"VEC3"},{"bufferView":25,"componentType":5126,"count":36,"type":"VEC3"},{"bufferView":26,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":27,"componentType":5126,"count":9,"type":"VEC3"},{"bufferView":28,"componentType":5126,"count":42,"type":"VEC3"},{"bufferView":29,"componentType":5126,"count":42,"type":"VEC3"},{"bufferView":30,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":31,"componentType":5126,"count":14,"type":"VEC3"},{"bufferView":32,"componentType":5126,"count":36,"type":"VEC3"},{"bufferView":33,"componentType":5126,"count":36,"type":"VEC3"},{"bufferView":34,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":35,"componentType":5126,"count":9,"type":"VEC3"},{"bufferView":36,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":37,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":38,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":39,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":40,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":41,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":42,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":43,"componentType":5121,"count":1,"type":"VEC4"}],"bufferViews":[{"buffer":0,"byteLength":6,"byteOffset":0},{"buffer":0,"byteLength":4,"byteOffset":6},{"buffer":0,"byteLength":12,"byteOffset":12},{"buffer":0,"byteLength":6,"byteOffset":24},{"buffer":0,"byteLength":4,"byteOffset":30},{"buffer":0,"byteLength":12,"byteOffset":36},{"buffer":0,"byteLength":6,"byteOffset":48},{"buffer":0,"byteLength":16,"byteOffset":56},{"buffer":0,"byteLength":12,"byteOffset":72},{"buffer":0,"byteLength":9,"byteOffset":84},{"buffer":0,"byteLength":12,"byteOffset":93},{"buffer":0,"byteLength":9,"byteOffset":105},{"buffer":0,"byteLength":504,"byteOffset":116},{"buffer":0,"byteLength":504,"byteOffset":620},{"buffer":0,"byteLength":16,"byteOffset":1124},{"buffer":0,"byteLength":168,"byteOffset":1140},{"buffer":0,"byteLength":432,"byteOffset":1308},{"buffer":0,"byteLength":432,"byteOffset":1740},{"buffer":0,"byteLength":16,"byteOffset":2172},{"buffer":0,"byteLength":108,"byteOffset":2188},{"buffer":0,"byteLength":504,"byteOffset":2296},{"buffer":0,"byteLength":504,"byteOffset":2800},{"buffer":0,"byteLength":16,"byteOffset":3304},{"buffer":0,"byteLength":168,"byteOffset":3320},{"buffer":0,"byteLength":432,"byteOffset":3488},{"buffer":0,"byteLength":432,"byteOffset":3920},{"buffer":0,"byteLength":16,"byteOffset":4352},{"buffer":0,"byteLength":108,"byteOffset":4368},{"buffer":0,"byteLength":504,"byteOffset":4476},{"buffer":0,"byteLength":504,"byteOffset":4980},{"buffer":0,"byteLength":16,"byteOffset":5484},{"buffer":0,"byteLength":168,"byteOffset":5500},{"buffer":0,"byteLength":432,"byteOffset":5668},{"buffer":0,"byteLength":432,"byteOffset":6100},{"buffer":0,"byteLength":16,"byteOffset":6532},{"buffer":0,"byteLength":108,"byteOffset":6548},{"buffer":0,"byteLength":12,"byteOffset":6656},{"buffer":0,"byteLength":4,"byteOffset":6668},{"buffer":0,"byteLength":12,"byteOffset":6672},{"buffer":0,"byteLength":16,"byteOffset":6684},{"buffer":0,"byteLength":3,"byteOffset":6700},{"buffer":0,"byteLength":4,"byteOffset":6703},{"buffer":0,"byteLength":3,"byteOffset":6707},{"buffer":0,"byteLength":4,"byteOffset":6710}],"buffers":[{"byteLength":6714,"bytes":"AAAAAQAAAAAAAQAAAAAAPwAAAAAAAAAAAAAAAAEAAQAAAQAAAAAAAAAAAD8AAAAAAAAAAAAB\nAAAAAAAAzs1NPwAAAAAAAIA/AAAAAAAAAAAAAAA/AQAAAAEAAAABAAAA//8AAP8AzQD/AQAA\nAAEAAAABAADpIXa+kDZkv5/xND8y2T++5m0dv9Ns6j7pIXa+kDZkv5/xND/pIXa+kDZkv5/x\nND8M8Aa+giwav0pQ/D4y2T++5m0dv9Ns6j4y2T++5m0dv9Ns6j5Zwni+S68gv12J2D7pIXa+\nkDZkv5/xND/pIXa+kDZkv5/xND/LDZy9HesWv+AZBz8M8Aa+giwav0pQ/D4M8Aa+giwav0pQ\n/D6zeC08CS1UvF23Rrwy2T++5m0dv9Ns6j6zeC08CS1UvF23RrxB6Iy80yyevGN38rwy2T++\n5m0dv9Ns6j4M8Aa+giwav0pQ/D56MB092ADYuxUArzuzeC08CS1UvF23RryA6IW+KJVdv1on\nOz+A6IW+KJVdv1onOz9JiFW+fswWv0nY9j6A6IW+KJVdv1onOz9JiFW+fswWv0nY9j4inxy+\nGYsTv+BdBD9JiFW+fswWv0nY9j6A6IW+KJVdv1onOz+4OIe+4w0av9P05D6A6IW+KJVdv1on\nOz8inxy+GYsTv+BdBD/3a8e9tEkQv5tPDT8inxy+GYsTv+BdBD9JiFW+fswWv0nY9j6zeC28\nCS1UPF23RjyzeC28CS1UPF23RjxJiFW+fswWv0nY9j56MB292ADYOxUAr7sinxy+GYsTv+Bd\nBD+zeC28CS1UPF23RjxB6Iw80yyePGN38jwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAADRLgO/vXMgPw5GFj/RLgO/vXMgPw5GFj/RLgO/vXMgPw5GFj/VLgO/vXMgPw1G\nFj/VLgO/vXMgPw1GFj/VLgO/vXMgPw1GFj/VLgO/vXMgPwxGFj/VLgO/vXMgPwxGFj/VLgO/\nvXMgPwxGFj/NLgO/v3MgPxFGFj/NLgO/v3MgPxFGFj/NLgO/v3MgPxFGFj/WLgO/vnMgPwpG\nFj/WLgO/vnMgPwpGFj/WLgO/vnMgPwpGFj/WLgO/vXMgPwtGFj/WLgO/vXMgPwtGFj/WLgO/\nvXMgPwtGFj8AAAAAAAAAgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAgAAAAADYLgM/vHMgvwtG\nFr/YLgM/vHMgvwtGFr/YLgM/vHMgvwtGFr/VLgM/vHMgvwxGFr/VLgM/vHMgvwxGFr/VLgM/\nvHMgvwxGFr/ULgM/u3MgvwxGFr/ULgM/u3MgvwxGFr/ULgM/u3MgvwxGFr/YLgM/vnMgvwpG\nFr/YLgM/vnMgvwpGFr/YLgM/vnMgvwpGFr/ILgM/wHMgvxRGFr/ILgM/wHMgvxRGFr/ILgM/\nwHMgvxRGFr/WLgM/v3MgvwpGFr/WLgM/v3MgvwpGFr/WLgM/v3MgvwpGFr+NjIw+g4ICP7W0\nND8AAIA/rAlkvlieTL84sx8/Dvk+vlPwM78QcA0/0ulkvusbNr+TeQc/SQgZvrvEMb+MZhM/\nI6HSvRPy0b4hLaA+ymmEvazqXL5sCg4+ByHivEs8VL5g5CU+w7h5vvD8Rb/z6CU/I6hUvutO\nLb/KpRM/6Jh6voN6L79Orw0/X7cuvlIjK79HnBk/UP/9vUOvxL6XmKw+98evvQtlQr5Y4SY+\n3MxHvai2Ob5Luz4+gOiFviiVXb9aJzs/gOiFviiVXb9aJzs/6SF2vpA2ZL+f8TQ/6SF2vpA2\nZL+f8TQ/uDiHvuMNGr/T9OQ+gOiFviiVXb9aJzs/6SF2vpA2ZL+f8TQ/WcJ4vkuvIL9didg+\nSYhVvn7MFr9J2PY+uDiHvuMNGr/T9OQ+WcJ4vkuvIL9didg+Mtk/vuZtHb/TbOo+ejAdvdgA\n2DsVAK+7SYhVvn7MFr9J2PY+Mtk/vuZtHb/TbOo+QeiMvNMsnrxjd/K8s3gtvAktVDxdt0Y8\nejAdvdgA2DsVAK+7QeiMvNMsnrxjd/K8s3gtPAktVLxdt0a8QeiMPNMsnjxjd/I8s3gtvAkt\nVDxdt0Y8s3gtPAktVLxdt0a8ejAdPdgA2LsVAK87Ip8cvhmLE7/gXQQ/QeiMPNMsnjxjd/I8\nejAdPdgA2LsVAK87DPAGvoIsGr9KUPw+92vHvbRJEL+bTw0/Ip8cvhmLE7/gXQQ/DPAGvoIs\nGr9KUPw+yw2cvR3rFr/gGQc/gOiFviiVXb9aJzs/92vHvbRJEL+bTw0/yw2cvR3rFr/gGQc/\n6SF2vpA2ZL+f8TQ/AAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAA\nAIAAAAAA2dNbP/Mvwj4udrA+2dNbP/Mvwj4udrA+2dNbP/Mvwj4udrA+2dNbP/Mvwj4udrA+\n4whdvt1xQb/7Th4/4whdvt1xQb/7Th4/4whdvt1xQb/7Th4/4whdvt1xQb/7Th4/k8ZUP9K9\nQj4MwwU/k8ZUP9K9Qj4MwwU/k8ZUP9K9Qj4MwwU/k8ZUP9K9Qj4MwwU//whdvtlxQb/+Th4/\n/whdvtlxQb/+Th4//whdvtlxQb/+Th4//whdvtlxQb/+Th4/AQldvtlxQb/+Th4/AQldvtlx\nQb/+Th4/AQldvtlxQb/+Th4/AQldvtlxQb/+Th4/lcZUv8u9Qr4KwwW/lcZUv8u9Qr4KwwW/\nlcZUv8u9Qr4KwwW/lcZUv8u9Qr4KwwW/DwldvtFxQb8ITx4/DwldvtFxQb8ITx4/DwldvtFx\nQb8ITx4/DwldvtFxQb8ITx4/Ojk/vy+cQjxjLSq/Ojk/vy+cQjxjLSq/Ojk/vy+cQjxjLSq/\nOjk/vy+cQjxjLSq/jYyMPoOCAj+1tDQ/AACAP7p8gL7c5WC/fQw4P9Ykgb46Ij+/BbYTP1Al\nZ77kvRu/07DnPlEl573kvZu+07BnPpukY7w7WVC7tBsPvJqkYzw8WVA7tRsPPAimar0bO5W+\n4LuFPgim6r0bOxW/4LsFP/PrLL4iQDq/nSAhP/+DCb+l8FY+YMgwvzODXTzfdqy8CJyNvP+D\nCb+l8FY+YMgwvzODXTzfdqy8CJyNvO8Qxb409BI+kV3nvv+DCb+l8FY+YMgwv/+DCb+l8FY+\nYMgwv+2ssb6tmwY+TVP4vjODXTzfdqy8CJyNvP+DCb+l8FY+YMgwv+tInr5NhvQ9haQEv+2s\nsb6tmwY+TVP4vu8Qxb409BI+kV3nvvF02L66TB8+1GfWvv+DCb+l8FY+YMgwvzODXTzfdqy8\nCJyNvNp5sbuKKXa8d8Q9uu8Qxb409BI+kV3nvtp5sbuKKXa8d8Q9uod+x7xVZRO8wL+BPO8Q\nxb409BI+kV3nvhe+Br/WtXU+fmkwvxe+Br/WtXU+fmkwv4d+xzxVZRM8wL+BvId+xzxVZRM8\nwL+BvBe+Br/WtXU+fmkwvyCFv75luTE+zJ/mvhe+Br/WtXU+fmkwv4d+xzxVZRM8wL+BvB4h\nrL7eYCU+iZX3vhe+Br/WtXU+fmkwvx4hrL7eYCU+iZX3vhy9mL5YCBk+o0UEvyCFv75luTE+\nzJ/mvhe+Br/WtXU+fmkwvyLp0r7rET4+EKrVvod+xzxVZRM8wL+BvCCFv75luTE+zJ/mvtp5\nsTuKKXY8d8Q9Otp5sTuKKXY8d8Q9OiCFv75luTE+zJ/mvjODXbzfdqw8CJyNPAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABR0rb42lXC/GXc5vRR0rb42lXC/GXc5vRR0\nrb42lXC/GXc5vQ50rb42lXC/Ync5vQ50rb42lXC/Ync5vQ50rb42lXC/Ync5vQ50rb43lXC/\nQHc5vQ50rb43lXC/QHc5vQ50rb43lXC/QHc5vQt0rb44lXC/U3c5vQt0rb44lXC/U3c5vQt0\nrb44lXC/U3c5vQ50rb42lXC/R3c5vQ50rb42lXC/R3c5vQ50rb42lXC/R3c5vQ50rb43lXC/\nP3c5vQ50rb43lXC/P3c5vQ50rb43lXC/P3c5vQAAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAA\nAIAAAAAAAAAAABB0rT43lXA/IXc5PRB0rT43lXA/IXc5PRB0rT43lXA/IXc5PRd0rT41lXA/\nPHc5PRd0rT41lXA/PHc5PRd0rT41lXA/PHc5PQ50rT44lXA/ZHc5PQ50rT44lXA/ZHc5PQ50\nrT44lXA/ZHc5PQt0rT43lXA/XHc5PQt0rT43lXA/XHc5PQt0rT43lXA/XHc5PRd0rT41lXA/\nPHc5PRd0rT41lXA/PHc5PRd0rT41lXA/PHc5PRN0rT42lXA/SXc5PRN0rT42lXA/SXc5PRN0\nrT42lXA/SXc5PY2MjD6DggI/tbQ0PwAAgD/2C7W+ehsIPhap7r7yDpu+/uPiPVvtxb5GmJS+\n+qjaPZqUy77yqcu+KEUdPoSHEL+ghOW+MrstPgY5Bb9+nAC+Va4SPSNkIL7ViQ2+XiQjPaUV\nFb4ngK++rOAmPlLr7b4ig5W+MDcQPpcvxb53DI++rhkMPtbWyr4jHsa+Wgo8PqIoEL/Q+N++\nY4BMPiTaBL/CCeu9jeGGPZroHr44cgK+khyPPRyaE74Xvga/1rV1Pn5pML8cvZi+WAgZPqNF\nBL/rSJ6+TYb0PYWkBL//gwm/pfBWPmDIML8cvZi+WAgZPqNFBL8eIay+3mAlPomV977trLG+\nrZsGPk1T+L7rSJ6+TYb0PYWkBL8eIay+3mAlPomV976Hfsc8VWUTPMC/gbwzg10833asvAic\njbztrLG+rZsGPk1T+L6Hfsc8VWUTPMC/gbzaebE7iil2PHfEPTraebG7iil2vHfEPbozg108\n33asvAicjbzaebE7iil2PHfEPTozg12833asPAicjTyHfse8VWUTvMC/gTzaebG7iil2vHfE\nPbozg12833asPAicjTwghb++ZbkxPsyf5r7vEMW+NPQSPpFd576Hfse8VWUTvMC/gTwghb++\nZbkxPsyf5r4i6dK+6xE+PhCq1b7xdNi+ukwfPtRn1r7vEMW+NPQSPpFd574i6dK+6xE+PhCq\n1b4Xvga/1rV1Pn5pML//gwm/pfBWPmDIML/xdNi+ukwfPtRn1r4Xvga/1rV1Pn5pML8Xvga/\n1rV1Pn5pML//gwm/pfBWPmDIML//gwm/pfBWPmDIML9p1g0/+DckvpofUb9p1g0/+Dckvpof\nUb9p1g0/+DckvpofUb9p1g0/+DckvpofUb+1Uxc/CQWAvjBQRD+1Uxc/CQWAvjBQRD+1Uxc/\nCQWAvjBQRD+1Uxc/CQWAvjBQRD+WYzs/5p1uvgfmI7+WYzs/5p1uvgfmI7+WYzs/5p1uvgfm\nI7+WYzs/5p1uvgfmI7+xUxc/DQWAvjJQRD+xUxc/DQWAvjJQRD+xUxc/DQWAvjJQRD+xUxc/\nDQWAvjJQRD+xUxc/DwWAvjJQRD+xUxc/DwWAvjJQRD+xUxc/DwWAvjJQRD+xUxc/DwWAvjJQ\nRD+WYzu/2p1uPgbmIz+WYzu/2p1uPgbmIz+WYzu/2p1uPgbmIz+WYzu/2p1uPgbmIz+wUxc/\nBgWAvjVQRD+wUxc/BgWAvjVQRD+wUxc/BgWAvjVQRD+wUxc/BgWAvjVQRD+KK1y/qGCUPiwC\n1z6KK1y/qGCUPiwC1z6KK1y/qGCUPiwC1z6KK1y/qGCUPiwC1z4AAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACNjIw+g4ICP7W0ND8AAIA/jOLVvn78\nNz4Bhxq/BTWlvgPSDz6lNwC/BDUlvgLSjz2lN4C+ESAbPGiIRbvkrQe8ECAbvGqIRTvkrQc8\nCP1Lvg+DqD3Qg16+Cf3Lvg+DKD7Qg96+kPjyvkiBSj60zg2/CyEIvz1TZj7vmDC/ia1QvwTr\n0D4wO7w9mzQMv27ijz7F7LQ9ia1QvwTr0D4wO7w9mzQMv27ijz7F7LQ9ZerNu67nW7zZz9w7\nia1QvwTr0D4wO7w9ZerNu67nW7zZz9w7184Pv1L+hj4GbSY9ia1QvwTr0D4wO7w9184Pv1L+\nhj4GbSY9E2kTv2o0fD7s++e7ia1QvwTr0D4wO7w9ZerNu67nW7zZz9w7szxavLsUtbyOOIy8\n184Pv1L+hj4GbSY9ia1QvwTr0D4wO7w9X5oIv4vGmD6EUQs+mzQMv27ijz7F7LQ9mzQMv27i\njz7F7LQ94SRFOstLm7t6oPo8ZerNu67nW7zZz9w733VNv3+p3j41oaA933VNv3+p3j41oaA9\n8fwIv+mgnT7KUpk98fwIv+mgnT7KUpk933VNv3+p3j41oaA9ZerNO67nWzzZz9y7ZerNO67n\nWzzZz9y733VNv3+p3j41oaA9LZcMv8y8lD4gct48LZcMv8y8lD4gct4833VNv3+p3j41oaA9\naTEQv7DYiz7nZqi8ZerNO67nWzzZz9y7LZcMv8y8lD4gct484SRFustLmzt6oPq833VNv3+p\n3j41oaA98fwIv+mgnT7KUpk9tWIFvwWFpj4MCfs98fwIv+mgnT7KUpk9ZerNO67nWzzZz9y7\nszxaPLsUtTyOOIw8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAu6DFPtwN\nUz+R7NO+u6DFPtwNUz+R7NO+u6DFPtwNUz+R7NO+sqDFPtYNUz+07NO+sqDFPtYNUz+07NO+\nsqDFPtYNUz+07NO+saDFPtYNUz+w7NO+saDFPtYNUz+w7NO+saDFPtYNUz+w7NO+taDFPtcN\nUz+r7NO+taDFPtcNUz+r7NO+taDFPtcNUz+r7NO+tKDFPtYNUz+v7NO+tKDFPtYNUz+v7NO+\ntKDFPtYNUz+v7NO+s6DFPtcNUz+q7NO+s6DFPtcNUz+q7NO+s6DFPtcNUz+q7NO+AAAAAAAA\nAIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAt6DFvtkNU7+h7NM+t6DFvtkNU7+h7NM+\nt6DFvtkNU7+h7NM+rKDFvtINU7/F7NM+rKDFvtINU7/F7NM+rKDFvtINU7/F7NM+uqDFvtkN\nU7+h7NM+uqDFvtkNU7+h7NM+uqDFvtkNU7+h7NM+t6DFvtsNU7+d7NM+t6DFvtsNU7+d7NM+\nt6DFvtsNU7+d7NM+uKDFvtkNU7+j7NM+uKDFvtkNU7+j7NM+uKDFvtkNU7+j7NM+tKDFvtcN\nU7+r7NM+tKDFvtcNU7+r7NM+tKDFvtcNU7+r7NM+jYyMPoOCAj+1tDQ/AACAP4/aOb9+Pbs+\nt8u5PVCp6b7OnmY++E1/PSMQ7L5msWA+yyk+PdKhJr/aq5w++EsrPX9vRr4MvZs9+DglPCzU\nIb+qhqg+VO7XPTTUPL6ucrM9l5YrPeaiNr/4+8g+vDGePf45477iDYE+AhpIPdCg5b5bLnw+\n1fUGPSdqI79Uaqo+BDDoPNeQOb72ttI9gFteu4KcHr8kRbY+WlS8PYz1L76YbOo9QMXoPN91\nTb9/qd4+NaGgPd91Tb9/qd4+NaGgPYmtUL8E69A+MDu8PYmtUL8E69A+MDu8PWkxEL+w2Is+\n52aovN91Tb9/qd4+NaGgPYmtUL8E69A+MDu8PRNpE79qNHw+7Pvnuy2XDL/MvJQ+IHLePGkx\nEL+w2Is+52aovBNpE79qNHw+7Pvnu9fOD79S/oY+Bm0mPeEkRbrLS5s7eqD6vC2XDL/MvJQ+\nIHLePNfOD79S/oY+Bm0mPbM8Wry7FLW8jjiMvGXqzTuu51s82c/cu+EkRbrLS5s7eqD6vLM8\nWry7FLW8jjiMvGXqzbuu51u82c/cO7M8Wjy7FLU8jjiMPGXqzTuu51s82c/cu2Xqzbuu51u8\n2c/cO+EkRTrLS5u7eqD6PPH8CL/poJ0+ylKZPbM8Wjy7FLU8jjiMPOEkRTrLS5u7eqD6PJs0\nDL9u4o8+xey0PbViBb8FhaY+DAn7PfH8CL/poJ0+ylKZPZs0DL9u4o8+xey0PV+aCL+Lxpg+\nhFELPt91Tb9/qd4+NaGgPbViBb8FhaY+DAn7PV+aCL+Lxpg+hFELPomtUL8E69A+MDu8PQAA\nAIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAAAAAALsZ+T4hEUw+\nNsNZP7sZ+T4hEUw+NsNZP7sZ+T4hEUw+NsNZP7sZ+T4hEUw+NsNZP60LYr/qkOs+Y2q+Pa0L\nYr/qkOs+Y2q+Pa0LYr/qkOs+Y2q+Pa0LYr/qkOs+Y2q+PRjAiD6xwKg+c9JnPxjAiD6xwKg+\nc9JnPxjAiD6xwKg+c9JnPxjAiD6xwKg+c9JnP7MLYr/XkOs+eGq+PbMLYr/XkOs+eGq+PbML\nYr/XkOs+eGq+PbMLYr/XkOs+eGq+PbMLYr/ZkOs+eGq+PbMLYr/ZkOs+eGq+PbMLYr/ZkOs+\neGq+PbMLYr/ZkOs+eGq+PRfAiL6vwKi+c9JnvxfAiL6vwKi+c9JnvxfAiL6vwKi+c9JnvxfA\niL6vwKi+c9Jnv60LYr/qkOs+Y2q+Pa0LYr/qkOs+Y2q+Pa0LYr/qkOs+Y2q+Pa0LYr/qkOs+\nY2q+PZ9L8by/+N++URVmv59L8by/+N++URVmv59L8by/+N++URVmv59L8by/+N++URVmv42M\njD6DggI/tbQ0PwAAgD+0EU+/QcrXPjJurj15bzC/2mGuPnchEj0gABC/gGuJPiVzJDwfAJC+\ngGsJPiRzpDsBj2a7yEGOu4RsQ7wCj2Y7yEGOO4RsQzyoy4i+ujMbPuj6Vz2oywi/ujObPun6\n1z0fCCu/Bbi7Ph6i2z0AAMB/AAAAQAAAAEAAAAABAADAfwAAAEAAAABAmZiYPpmYmD6ZmJg+\nAACAPwAAAAEBAQEAAAAAAAAB"}]},"context":{"shiny":false,"rmarkdown":null},"vertexShader":"#line 2 1\n// File 1 is the vertex shader\n#ifdef GL_ES\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#endif\n\nattribute vec3 aPos;\nattribute vec4 aCol;\nuniform mat4 mvMatrix;\nuniform mat4 prMatrix;\nvarying vec4 vCol;\nvarying vec4 vPosition;\n\n#ifdef NEEDS_VNORMAL\nattribute vec3 aNorm;\nuniform mat4 normMatrix;\nvarying vec4 vNormal;\n#endif\n\n#if defined(HAS_TEXTURE) || defined (IS_TEXT)\nattribute vec2 aTexcoord;\nvarying vec2 vTexcoord;\n#endif\n\n#ifdef FIXED_SIZE\nuniform vec3 textScale;\n#endif\n\n#ifdef FIXED_QUADS\nattribute vec3 aOfs;\n#endif\n\n#ifdef IS_TWOSIDED\n#ifdef HAS_NORMALS\nvarying float normz;\nuniform mat4 invPrMatrix;\n#else\nattribute vec3 aPos1;\nattribute vec3 aPos2;\nvarying float normz;\n#endif\n#endif // IS_TWOSIDED\n\n#ifdef FAT_LINES\nattribute vec3 aNext;\nattribute vec2 aPoint;\nvarying vec2 vPoint;\nvarying float vLength;\nuniform float uAspect;\nuniform float uLwd;\n#endif\n\n#ifdef USE_ENVMAP\nvarying vec3 vReflection;\n#endif\n\nvoid main(void) {\n  \n#ifndef IS_BRUSH\n#if defined(NCLIPPLANES) || !defined(FIXED_QUADS) || defined(HAS_FOG) || defined(USE_ENVMAP)\n  vPosition = mvMatrix * vec4(aPos, 1.);\n#endif\n  \n#ifndef FIXED_QUADS\n  gl_Position = prMatrix * vPosition;\n#endif\n#endif // !IS_BRUSH\n  \n#ifdef IS_POINTS\n  gl_PointSize = POINTSIZE;\n#endif\n  \n  vCol = aCol;\n  \n// USE_ENVMAP implies NEEDS_VNORMAL\n\n#ifdef NEEDS_VNORMAL\n  vNormal = normMatrix * vec4(-aNorm, dot(aNorm, aPos));\n#endif\n\n#ifdef USE_ENVMAP\n  vReflection = normalize(reflect(vPosition.xyz/vPosition.w, \n                        normalize(vNormal.xyz/vNormal.w)));\n#endif\n  \n#ifdef IS_TWOSIDED\n#ifdef HAS_NORMALS\n  /* normz should be calculated *after* projection */\n  normz = (invPrMatrix*vNormal).z;\n#else\n  vec4 pos1 = prMatrix*(mvMatrix*vec4(aPos1, 1.));\n  pos1 = pos1/pos1.w - gl_Position/gl_Position.w;\n  vec4 pos2 = prMatrix*(mvMatrix*vec4(aPos2, 1.));\n  pos2 = pos2/pos2.w - gl_Position/gl_Position.w;\n  normz = pos1.x*pos2.y - pos1.y*pos2.x;\n#endif\n#endif // IS_TWOSIDED\n  \n#ifdef NEEDS_VNORMAL\n  vNormal = vec4(normalize(vNormal.xyz), 1);\n#endif\n  \n#if defined(HAS_TEXTURE) || defined(IS_TEXT)\n  vTexcoord = aTexcoord;\n#endif\n  \n#if defined(FIXED_SIZE) && !defined(ROTATING)\n  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);\n  pos = pos/pos.w;\n  gl_Position = pos + vec4(aOfs*textScale, 0.);\n#endif\n  \n#if defined(IS_SPRITES) && !defined(FIXED_SIZE)\n  vec4 pos = mvMatrix * vec4(aPos, 1.);\n  pos = pos/pos.w + vec4(aOfs,  0.);\n  gl_Position = prMatrix*pos;\n#endif\n  \n#ifdef FAT_LINES\n  /* This code was inspired by Matt Deslauriers' code in \n   https://mattdesl.svbtle.com/drawing-lines-is-hard */\n  vec2 aspectVec = vec2(uAspect, 1.0);\n  mat4 projViewModel = prMatrix * mvMatrix;\n  vec4 currentProjected = projViewModel * vec4(aPos, 1.0);\n  currentProjected = currentProjected/currentProjected.w;\n  vec4 nextProjected = projViewModel * vec4(aNext, 1.0);\n  vec2 currentScreen = currentProjected.xy * aspectVec;\n  vec2 nextScreen = (nextProjected.xy / nextProjected.w) * aspectVec;\n  float len = uLwd;\n  vec2 dir = vec2(1.0, 0.0);\n  vPoint = aPoint;\n  vLength = length(nextScreen - currentScreen)/2.0;\n  vLength = vLength/(vLength + len);\n  if (vLength > 0.0) {\n    dir = normalize(nextScreen - currentScreen);\n  }\n  vec2 normal = vec2(-dir.y, dir.x);\n  dir.x /= uAspect;\n  normal.x /= uAspect;\n  vec4 offset = vec4(len*(normal*aPoint.x*aPoint.y - dir), 0.0, 0.0);\n  gl_Position = currentProjected + offset;\n#endif\n  \n#ifdef IS_BRUSH\n  gl_Position = vec4(aPos, 1.);\n#endif\n}","fragmentShader":"#line 2 2\n// File 2 is the fragment shader\n#ifdef GL_ES\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#endif\nvarying vec4 vCol; // carries alpha\nvarying vec4 vPosition;\n#if defined(HAS_TEXTURE) || defined (IS_TEXT)\nvarying vec2 vTexcoord;\nuniform sampler2D uSampler;\n#endif\n\n#ifdef HAS_FOG\nuniform int uFogMode;\nuniform vec3 uFogColor;\nuniform vec4 uFogParms;\n#endif\n\n#if defined(IS_LIT) && !defined(FIXED_QUADS)\nvarying vec4 vNormal;\n#endif\n\n#if NCLIPPLANES > 0\nuniform vec4 vClipplane[NCLIPPLANES];\n#endif\n\n#if NLIGHTS > 0\nuniform mat4 mvMatrix;\n#endif\n\n#ifdef IS_LIT\nuniform vec3 emission;\nuniform float shininess;\n#if NLIGHTS > 0\nuniform vec3 ambient[NLIGHTS];\nuniform vec3 specular[NLIGHTS]; // light*material\nuniform vec3 diffuse[NLIGHTS];\nuniform vec3 lightDir[NLIGHTS];\nuniform bool viewpoint[NLIGHTS];\nuniform bool finite[NLIGHTS];\n#endif\n#endif // IS_LIT\n\n#ifdef IS_TWOSIDED\nuniform bool front;\nvarying float normz;\n#endif\n\n#ifdef FAT_LINES\nvarying vec2 vPoint;\nvarying float vLength;\n#endif\n\n#ifdef USE_ENVMAP\nvarying vec3 vReflection;\n#endif\n\nvoid main(void) {\n  vec4 fragColor;\n#ifdef FAT_LINES\n  vec2 point = vPoint;\n  bool neg = point.y < 0.0;\n  point.y = neg ? (point.y + vLength)/(1.0 - vLength) :\n                 -(point.y - vLength)/(1.0 - vLength);\n#if defined(IS_TRANSPARENT) && defined(IS_LINESTRIP)\n  if (neg && length(point) <= 1.0) discard;\n#endif\n  point.y = min(point.y, 0.0);\n  if (length(point) > 1.0) discard;\n#endif // FAT_LINES\n  \n#ifdef ROUND_POINTS\n  vec2 coord = gl_PointCoord - vec2(0.5);\n  if (length(coord) > 0.5) discard;\n#endif\n  \n#if NCLIPPLANES > 0\n  for (int i = 0; i < NCLIPPLANES; i++)\n    if (dot(vPosition, vClipplane[i]) < 0.0) discard;\n#endif\n    \n#ifdef FIXED_QUADS\n    vec3 n = vec3(0., 0., 1.);\n#elif defined(IS_LIT)\n    vec3 n = normalize(vNormal.xyz);\n#endif\n    \n#ifdef IS_TWOSIDED\n    if ((normz <= 0.) != front) discard;\n#endif\n\n#ifdef IS_LIT\n    vec3 eye = normalize(-vPosition.xyz/vPosition.w);\n    vec3 lightdir;\n    vec4 colDiff;\n    vec3 halfVec;\n    vec4 lighteffect = vec4(emission, 0.);\n    vec3 col;\n    float nDotL;\n#ifdef FIXED_QUADS\n    n = -faceforward(n, n, eye);\n#endif\n    \n#if NLIGHTS > 0\n    // Simulate two-sided lighting\n    if (n.z < 0.0)\n      n = -n;\n    for (int i=0;i<NLIGHTS;i++) {\n      colDiff = vec4(vCol.rgb * diffuse[i], vCol.a);\n      lightdir = lightDir[i];\n      if (!viewpoint[i]) {\n        if (finite[i]) {\n          lightdir = (mvMatrix * vec4(lightdir, 1.)).xyz;\n        } else {\n          lightdir = (mvMatrix * vec4(lightdir, 0.)).xyz;\n        }\n      }\n      if (!finite[i]) {\n        halfVec = normalize(lightdir + eye);\n      } else {\n        lightdir = normalize(lightdir - vPosition.xyz/vPosition.w);\n        halfVec = normalize(lightdir + eye);\n      }\n      col = ambient[i];\n      nDotL = dot(n, lightdir);\n      col = col + max(nDotL, 0.) * colDiff.rgb;\n      col = col + pow(max(dot(halfVec, n), 0.), shininess) * specular[i];\n      lighteffect = lighteffect + vec4(col, colDiff.a);\n    }\n#endif\n    \n#else // not IS_LIT\n    vec4 colDiff = vCol;\n    vec4 lighteffect = colDiff;\n#endif\n    \n#ifdef IS_TEXT\n    vec4 textureColor = lighteffect*texture2D(uSampler, vTexcoord);\n#endif\n    \n#ifdef HAS_TEXTURE\n\n// These calculations use the definitions from \n// https://docs.gl/gl3/glTexEnv\n\n#ifdef USE_ENVMAP\n    float m = 2.0 * sqrt(dot(vReflection, vReflection) + 2.0*vReflection.z + 1.0);\n    vec4 textureColor = texture2D(uSampler, vReflection.xy / m + vec2(0.5, 0.5));\n#else\n    vec4 textureColor = texture2D(uSampler, vTexcoord);\n#endif\n\n#ifdef TEXTURE_rgb\n\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(textureColor.rgb, lighteffect.a);\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = lighteffect*vec4(textureColor.rgb, 1.);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - textureColor.rgb) * lighteffect.rgb, lighteffect.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(lighteffect.rgb + textureColor.rgb, lighteffect.a);\n#endif\n\n#endif //TEXTURE_rgb\n        \n#ifdef TEXTURE_rgba\n\n#ifdef TEXMODE_replace\n// already done\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = lighteffect*textureColor;\n#endif\n\n#ifdef TEXMODE_decal\n    textureColor = vec4((1. - textureColor.a)*lighteffect.rgb) +\n                     textureColor.a*textureColor.rgb, \n                     lighteffect.a);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - textureColor.rgb) * lighteffect.rgb,\n                    lighteffect.a*textureColor.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(lighteffect.rgb + textureColor.rgb,\n                    lighteffect.a*textureColor.a);\n#endif\n    \n#endif //TEXTURE_rgba\n    \n#ifdef TEXTURE_alpha\n    float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;\n\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(lighteffect.rgb, luminance);\n#endif \n\n#if defined(TEXMODE_modulate) || defined(TEXMODE_blend) || defined(TEXMODE_add)\n    textureColor = vec4(lighteffect.rgb, lighteffect.a*luminance);\n#endif\n \n#endif // TEXTURE_alpha\n    \n// The TEXTURE_luminance values are not from that reference    \n#ifdef TEXTURE_luminance\n    float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;\n\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(luminance, luminance, luminance, lighteffect.a);\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = vec4(luminance*lighteffect.rgb, lighteffect.a);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - luminance)*lighteffect.rgb,\n                        lighteffect.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(luminance + lighteffect.rgb, lighteffect.a);\n#endif\n\n#endif // TEXTURE_luminance\n \n    \n#ifdef TEXTURE_luminance_alpha\n    float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;\n\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(luminance, luminance, luminance, textureColor.a);\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = vec4(luminance*lighteffect.rgb, \n                        textureColor.a*lighteffect.a);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - luminance)*lighteffect.rgb,\n                        textureColor.a*lighteffect.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(luminance + lighteffect.rgb, \n                        textureColor.a*lighteffect.a);\n\n#endif\n\n#endif // TEXTURE_luminance_alpha\n    \n    fragColor = textureColor;\n\n#elif defined(IS_TEXT)\n    if (textureColor.a < 0.1)\n      discard;\n    else\n      fragColor = textureColor;\n#else\n    fragColor = lighteffect;\n#endif // HAS_TEXTURE\n    \n#ifdef HAS_FOG\n    // uFogParms elements: x = near, y = far, z = fogscale, w = (1-sin(FOV/2))/(1+sin(FOV/2))\n    // In Exp and Exp2: use density = density/far\n    // fogF will be the proportion of fog\n    // Initialize it to the linear value\n    float fogF;\n    if (uFogMode > 0) {\n      fogF = (uFogParms.y - vPosition.z/vPosition.w)/(uFogParms.y - uFogParms.x);\n      if (uFogMode > 1)\n        fogF = mix(uFogParms.w, 1.0, fogF);\n      fogF = fogF*uFogParms.z;\n      if (uFogMode == 2)\n        fogF = 1.0 - exp(-fogF);\n      // Docs are wrong: use (density*c)^2, not density*c^2\n      // https://gitlab.freedesktop.org/mesa/mesa/-/blob/master/src/mesa/swrast/s_fog.c#L58\n      else if (uFogMode == 3)\n        fogF = 1.0 - exp(-fogF*fogF);\n      fogF = clamp(fogF, 0.0, 1.0);\n      gl_FragColor = vec4(mix(fragColor.rgb, uFogColor, fogF), fragColor.a);\n    } else gl_FragColor = fragColor;\n#else\n    gl_FragColor = fragColor;\n#endif // HAS_FOG\n    \n}","players":[],"webGLoptions":{"preserveDrawingBuffer":true}},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-eigenA-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: eigenvectors of A
</figcaption>
</figure>
</div>
</div>
</section>
<section class="slide level5">

<div style="font-size: 55%;">
<p>The original matrix can be reconstructed from the eigendecomposition. It is achieved by calculating the product of the eigenvectors, the eigenvalues and the inverse of the eigenvectors.</p>
</div>
<p><span class="math display">\[\begin{align}
A = V \Lambda V^{-1} \label{matrecon}
\end{align}\]</span></p>
<div style="font-size: 55%;">
<p>For this the eigenvalues must first be <em>diagonalized</em> so a unit matrix can be formed <span class="math inline">\(\eqref{Lambda}\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
\Lambda = \begin{bmatrix} \lambda_1 &amp; 0 &amp; 0 \\ 0 &amp; \lambda_2 &amp; 0 \\ 0 &amp; 0 &amp; \lambda_3 \end{bmatrix} \label{Lambda}
\end{align}\]</span></p>
</section>
<section class="slide level5">

<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>Lambda <span class="ot">&lt;-</span>  <span class="fu">diag</span>(<span class="at">x =</span> v<span class="sc">$</span>values)</span>
<span id="cb13-2"><a></a></span>
<span id="cb13-3"><a></a>Lambda</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         [,1]      [,2]      [,3]
[1,] 170.5327   0.00000  0.000000
[2,]   0.0000 -12.64774  0.000000
[3,]   0.0000   0.00000 -5.884964</code></pre>
</div>
</div>
</section>
<section class="slide level5">

<div style="font-size: 75%;">
<p>Then the inverse of the eigenvectors is computed such as the identity matrix <span class="math inline">\(I\)</span> can be formed</p>
</div>
<p><span class="math display">\[\begin{align}
V \cdot V^{-1} = I = \begin{bmatrix} 1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{bmatrix}
\end{align}\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>V_inv <span class="ot">&lt;-</span> <span class="fu">solve</span>(v<span class="sc">$</span>vectors)</span>
<span id="cb15-2"><a></a></span>
<span id="cb15-3"><a></a>V_inv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            [,1]       [,2]       [,3]
[1,] -0.48567777 -0.5921448 -0.6963383
[2,] -0.94545829 -0.8778793  0.8704558
[3,]  0.06610605 -1.2794147  0.8205889</code></pre>
</div>
</div>
</section>
<section class="slide level5">

<div style="font-size: 75%;">
<p>In the end <span class="math inline">\(A\)</span> is reconstructed using <span class="math inline">\(\eqref{matrecon}\)</span>.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>A_reconstructed <span class="ot">&lt;-</span> v<span class="sc">$</span>vectors <span class="sc">%*%</span> Lambda <span class="sc">%*%</span> V_inv</span>
<span id="cb17-2"><a></a></span>
<span id="cb17-3"><a></a>A_reconstructed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   10   21   36
[2,]   47   51   64
[3,]   72   87   91</code></pre>
</div>
</div>
<div style="font-size: 75%;">
<p>Which can be proven using the <code>all.equal()</code> function as shown below.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">all.equal</span>(A, A_reconstructed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>


<section id="step-4-feature-vector" class="title-slide slide level3 center">
<h3>Step 4: Feature vector</h3>
<div style="font-size: 55%;">
<p>The feature vector is simply a matrix that has as columns the eigenvectors of the components that we decide to keep. This makes it the first step towards dimensionality reduction, because if we choose to keep only <span class="math inline">\(p\)</span> eigenvectors (components) out of <span class="math inline">\(n\)</span>, the final data set will have only p dimensions. Coming back to the toy example, <span class="math inline">\(91.7\%\)</span> are explained by <span class="math inline">\(\vec{v_1}\)</span>, why we will only keep <span class="math inline">\(PC_1\)</span>. Therefore the dimensions are reduced from <span class="math inline">\(2\)</span> to <span class="math inline">\(1\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
\vec{v_1} &amp;= \begin{bmatrix} 0.7071068 \\ 0.7071068  \end{bmatrix} &amp;&amp;\lambda_1 = 1.8334811 \nonumber
\end{align}\]</span></p>
<div style="font-size: 55%;">
<p>This shall showcase that the dimensionality reduction is up to the user, who has to decide how much variance (information) shall be retained in the data.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>A rule of thumb is that about <span class="math inline">\(90\%\)</span> of the variance shall be kept in the transformed data. Therefore, as many <span class="math inline">\(PC\)</span> are kept until an <em>explained variance</em> of <span class="math inline">\(90\%\)</span> is reached.</p>
</div>
</div>
</div>
</div>
</section>

<section id="step-5-recast-the-data-along-the-principal-component-axes" class="title-slide slide level3 center">
<h3>Step 5: Recast the data along the principal component axes</h3>
<div style="font-size: 75%;">
<p>Apart from standardization no changes to the original data has been made up to this point. In this last step, the aim is to form the feature vector from the eigenvectors of the covariance matrix in order to reorient the data from the original axes to the ones represented by the <em>principal components</em>. Not surprisingly, this is why PCA is called <em>Principal Component Analysis</em>. This is done by multiplying the transpose of the original data set by the transpose of the feature vector (<span class="math inline">\(\vec{v_1}\)</span> for the toy data).</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>out <span class="ot">&lt;-</span> <span class="fu">t</span>(eigen_mat<span class="sc">$</span>vectors[,<span class="dv">1</span>])<span class="sc">%*%</span><span class="fu">t</span>(<span class="fu">as.matrix</span>(<span class="fu">scale</span>(sim_data)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math display">\[\begin{align}
FinalData = \vec{v_1}^T \times StandardizedOriginalDataSet^T
\end{align}\]</span></p>
</section>
<section class="slide level5">

<div style="font-size: 75%;">
<p>In order to check the validity of our approach, the manual calculations are compare to the output of the standard <code>R</code> function <code>princomp()</code> from the base package <code>stats</code>.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a>manual_computation <span class="ot">&lt;-</span> <span class="fu">t</span>(out) <span class="sc">%&gt;%</span> <span class="fu">as.vector</span>()</span>
<span id="cb22-2"><a></a>pca_res <span class="ot">&lt;-</span> <span class="fu">princomp</span>(<span class="fu">scale</span>(sim_data))</span>
<span id="cb22-3"><a></a>automated_computation <span class="ot">&lt;-</span> pca_res<span class="sc">$</span>scores[,<span class="dv">1</span>] <span class="sc">%&gt;%</span> <span class="fu">unname</span>()</span>
<span id="cb22-4"><a></a><span class="fu">all.equal</span>(manual_computation,automated_computation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>

<section id="step-6-interpreting-the-results" class="title-slide slide level3 center">
<h3>Step 6: Interpreting the results</h3>
<div style="font-size: 75%;">
<p>It is great to reduce the dimensionality of the data, but what does it all mean? This can be answered by exploring how they relate to each column using the loadings of each principal component. With this toy data, we use <span class="math inline">\(PC_1\)</span> in order to explain the <code>princomp()</code> output.</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>pc_coef <span class="ot">&lt;-</span> pca_res<span class="sc">$</span>loadings[,<span class="dv">1</span>]</span>
<span id="cb24-2"><a></a>pc_coef</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     var1  outcome1 
0.7071068 0.7071068 </code></pre>
</div>
</div>
</section>
<section class="slide level5">

<p>The reconstructed linear combination for <span class="math inline">\(PC_1\)</span> is then shown in <span class="math inline">\(\eqref{eqpc1}\)</span>.</p>
<p><span class="math display">\[\begin{align}
PC_1 = 0.7071068 * var1 + 0.7071068 * outcome1 \label{eqpc1}
\end{align}\]</span></p>
<div style="font-size: 75%;">
<p>The toy example consists of linear dependent data (we constructed it that way). It is important to note that <code>var1</code> and <code>outcome1</code> do not have the specific “roles” any more, the output is now a principal component, to which both variable contribute the same level of variance. This is indeed the case when qualitatively inspecting <a href="#/fig-pc-construction" class="quarto-xref">Figure&nbsp;2</a>.</p>
</div>
</section>

<section id="connection-to-linear-regression" class="title-slide slide level3 center">
<h3>Connection to linear regression</h3>
<div style="font-size: 55%;">
<p>This bears the question: How does PCA connect to classical linear regression? For this, we build a classical linear regression model from the toy data <span class="math inline">\(\eqref{linreg}\)</span>.</p>
</div>
<p><span class="math display">\[\begin{align}
y_i = \beta_0 + \beta_1x_1 + \epsilon \label{linreg}\\
\end{align}\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a>lin_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(outcome1 <span class="sc">~</span>var1, <span class="at">data =</span> <span class="fu">as.data.frame</span>((sim_data)))</span>
<span id="cb26-2"><a></a><span class="fu">summary</span>(lin_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = outcome1 ~ var1, data = as.data.frame((sim_data)))

Residuals:
     Min       1Q   Median       3Q      Max 
-1.16972 -0.42945 -0.04778  0.35984  1.94499 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -0.03420    0.05973  -0.573    0.568    
var1         0.99012    0.06631  14.933   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5952 on 98 degrees of freedom
Multiple R-squared:  0.6947,    Adjusted R-squared:  0.6916 
F-statistic:   223 on 1 and 98 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section class="slide level5">

<div class="cell">
<div id="tbl-linreg" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-linreg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: The parameters of the linear regression model.
</figcaption>
<div aria-describedby="tbl-linreg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="jyfsdiydot" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jyfsdiydot table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jyfsdiydot thead, #jyfsdiydot tbody, #jyfsdiydot tfoot, #jyfsdiydot tr, #jyfsdiydot td, #jyfsdiydot th {
  border-style: none;
}

#jyfsdiydot p {
  margin: 0;
  padding: 0;
}

#jyfsdiydot .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jyfsdiydot .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jyfsdiydot .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jyfsdiydot .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jyfsdiydot .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jyfsdiydot .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jyfsdiydot .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jyfsdiydot .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jyfsdiydot .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jyfsdiydot .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jyfsdiydot .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jyfsdiydot .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jyfsdiydot .gt_spanner_row {
  border-bottom-style: hidden;
}

#jyfsdiydot .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jyfsdiydot .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jyfsdiydot .gt_from_md > :first-child {
  margin-top: 0;
}

#jyfsdiydot .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jyfsdiydot .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jyfsdiydot .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jyfsdiydot .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jyfsdiydot .gt_row_group_first td {
  border-top-width: 2px;
}

#jyfsdiydot .gt_row_group_first th {
  border-top-width: 2px;
}

#jyfsdiydot .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jyfsdiydot .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jyfsdiydot .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jyfsdiydot .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jyfsdiydot .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jyfsdiydot .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jyfsdiydot .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jyfsdiydot .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jyfsdiydot .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jyfsdiydot .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jyfsdiydot .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jyfsdiydot .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jyfsdiydot .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jyfsdiydot .gt_left {
  text-align: left;
}

#jyfsdiydot .gt_center {
  text-align: center;
}

#jyfsdiydot .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jyfsdiydot .gt_font_normal {
  font-weight: normal;
}

#jyfsdiydot .gt_font_bold {
  font-weight: bold;
}

#jyfsdiydot .gt_font_italic {
  font-style: italic;
}

#jyfsdiydot .gt_super {
  font-size: 65%;
}

#jyfsdiydot .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jyfsdiydot .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jyfsdiydot .gt_indent_1 {
  text-indent: 5px;
}

#jyfsdiydot .gt_indent_2 {
  text-indent: 10px;
}

#jyfsdiydot .gt_indent_3 {
  text-indent: 15px;
}

#jyfsdiydot .gt_indent_4 {
  text-indent: 20px;
}

#jyfsdiydot .gt_indent_5 {
  text-indent: 25px;
}

#jyfsdiydot .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jyfsdiydot div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment cell caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="<div data-qmd-base64=&quot;KipDaGFyYWN0ZXJpc3RpYyoq&quot;><div class='gt_from_md'><p><strong>Characteristic</strong></p>
</div></div>" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><p><strong>Characteristic</strong></p></th>
<th id="<div data-qmd-base64=&quot;KipCZXRhKio=&quot;><div class='gt_from_md'><p><strong>Beta</strong></p>
</div></div>" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><p><strong>Beta</strong></p></th>
<th id="<div data-qmd-base64=&quot;Kio5NSUgQ0kqKg==&quot;><div class='gt_from_md'><p><strong>95% CI</strong></p>
</div></div><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;&quot;><sup>1</sup></span>" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><p><strong>95% CI</strong></p>
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span></th>
<th id="<div data-qmd-base64=&quot;KipwLXZhbHVlKio=&quot;><div class='gt_from_md'><p><strong>p-value</strong></p>
</div></div>" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><p><strong>p-value</strong></p></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label">var1</td>
<td class="gt_row gt_center" headers="estimate">0.99</td>
<td class="gt_row gt_center" headers="conf.low">0.86, 1.1</td>
<td class="gt_row gt_center" headers="p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label" style="border-top-width: 2px; border-top-style: solid; border-top-color: #D3D3D3">Adjusted R²</td>
<td class="gt_row gt_center" headers="estimate" style="border-top-width: 2px; border-top-style: solid; border-top-color: #D3D3D3">0.692</td>
<td class="gt_row gt_center" headers="conf.low" style="border-top-width: 2px; border-top-style: solid; border-top-color: #D3D3D3"><br>
</td>
<td class="gt_row gt_center" headers="p.value" style="border-top-width: 2px; border-top-style: solid; border-top-color: #D3D3D3"><br>
</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="odd">
<td colspan="4" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span>
<p>CI = Confidence Interval</p></td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</figure>
</div>
</div>
</section>
<section class="slide level5">

<p>From the parameters we see that we</p>
<ol type="1">
<li>Have a significant model</li>
<li>With a significant slope, the intercept however is not significant</li>
<li>With a <span class="math inline">\(r^2_{adjusted} = 0.6915753\)</span></li>
</ol>
<div style="font-size: 75%;">
<p>So the <span class="math inline">\(r^2\)</span> and <span class="math inline">\(r^2_{adjusted}\)</span> are both in the range of the loading for the first <span class="math inline">\(PC\)</span> (<span class="math inline">\(0.7071068\)</span>). This actually makes sense when we remeber that PCA is based on the covariance matrix, which is basically the unscaled correlation matrix, which in turn again connects to the <span class="math inline">\(r^2\)</span> and <span class="math inline">\(r^2_{adjusted}\)</span> when we think of <span class="math inline">\(r^2\)</span> being the percentage of explained variance for a linear regression model. Isn’t it beautiful?</p>
</div>
</section>

<section id="a-more-realistic-example" class="title-slide slide level3 center">
<h3>A more realistic example</h3>
<div style="font-size: 55%;">
<p>We have done the complete game for a classical PCA on a toy example. We now understand how the bits and pieces connect to the actual math and that there is nothing intimidating about the method at all. But now we want to use it! Lets imaging a manufacturing process and we want to monitor it. Production processes get multivariate really quick, lets see the data-</p>
<ul>
<li>feed velocity</li>
<li>solder temperature</li>
<li>nitrogen ppm</li>
<li>squeegee pressure</li>
<li>solder height</li>
<li>solder volume</li>
<li>x position</li>
<li>y position</li>
<li>component angle</li>
<li>room temperature</li>
<li>room humidity</li>
</ul>
</div>
</section>
<section class="slide level5">


<img data-src="index_files/figure-revealjs/unnamed-chunk-23-1.png" width="960" class="r-stretch"></section>
<section class="slide level5">


<img data-src="index_files/figure-revealjs/unnamed-chunk-24-1.png" width="960" class="r-stretch"></section>
<section class="slide level5">


<img data-src="index_files/figure-revealjs/unnamed-chunk-25-1.png" width="960" class="r-stretch"></section>
<section class="slide level5">


<img data-src="index_files/figure-revealjs/unnamed-chunk-26-1.png" width="960" class="r-stretch"></section>
<section class="slide level5">


<img data-src="index_files/figure-revealjs/unnamed-chunk-27-1.png" width="960" class="r-stretch"></section>

<section id="more-examples" class="title-slide slide level3 center">
<h3>more examples</h3>
<p>Kudos to Prof.&nbsp;John Rasmussen, Prof.&nbsp;Michael Skipper Andersen</p>
<p><a href="https://anybodyrun.com/#">AnybodyRun</a> <a href="https://biomechanicsforeverybody.wordpress.com/2018/12/12/on-the-parameters-of-running/">biomechanicsforeverybody</a></p>
</section>
</section>
<section id="references" class="title-slide slide level1 smaller scrollable">
<h1>References</h1>


<div class="reveal-header">
<div class="header-logo" data-footer-logo-link="https://mechtrix.github.io/BigData_online/">
<img data-src="">
</div>
<div class="sc-title">
<p> </p>
</div>
<div class="header-text">
<p> </p>
</div>
<div class="sb-title">
<p> </p>
</div>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-an_jameswittenhastietibshirani_2021" class="csl-entry" role="listitem">
James, Gareth, Daniela Witten, Trevor Hastie, and Robert Tibshirani. 2021. <em>An Introduction to Statistical Learning</em>. Springer.
</div>
</div>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="img/back.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p>Copyright Prof.&nbsp;Dr.&nbsp;Tim Weber, 2024</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-animate/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-animate/svg.min.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-animate/js-yaml.min.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-attribution/attribution.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'animate': {"autoplay":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealAnimate, RevealAttribution, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
        <script type="text/javascript">
        (function(d) {
          d.querySelectorAll(".pseudocode-container").forEach(function(el) {
            let pseudocodeOptions = {
              indentSize: el.dataset.indentSize || "1.2em",
              commentDelimiter: el.dataset.commentDelimiter || "//",
              lineNumber: el.dataset.lineNumber === "true" ? true : false,
              lineNumberPunc: el.dataset.lineNumberPunc || ":",
              noEnd: el.dataset.noEnd === "true" ? true : false,
              titlePrefix: el.dataset.captionPrefix || "Algorithm"
            };
            pseudocode.renderElement(el.querySelector(".pseudocode"), pseudocodeOptions);
          });
        })(document);
        (function(d) {
          d.querySelectorAll(".pseudocode-container").forEach(function(el) {
            let captionSpan = el.querySelector(".ps-root > .ps-algorithm > .ps-line > .ps-keyword")
            if (captionSpan !== null) {
              let captionPrefix = el.dataset.captionPrefix + " ";
              let captionNumber = "";
              if (el.dataset.pseudocodeNumber) {
                captionNumber = el.dataset.pseudocodeNumber + " ";
                if (el.dataset.chapterLevel) {
                  captionNumber = el.dataset.chapterLevel + "." + captionNumber;
                }
              }
              captionSpan.innerHTML = captionPrefix + captionNumber;
            }
          });
        })(document);
        </script>
      
    

</body></html>